<?xml version="1.0" encoding="UTF-8"?>
<odoo>
<data>
<!-- %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% Views Portion %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% -->

    <!--===================== [Sale Order Extension Form View-START] ====================-->

    <record id="so_form_view_extension" model="ir.ui.view"> 
        <field name="name">so_form_view_extension</field> 
        <field name="model">sale.order</field>
        <field name="inherit_id" ref="sale.view_order_form"/>
        <field name="type">form</field> 
        <field name="arch" type="xml">
            
            <xpath expr="//header" position="inside">
                <button name="get_order_lines" string="Get Order Lines" type="object" class="oe_highlight"/>
                <button name="create_invoice" string="Create Invoice" type="object" class="oe_highlight"/>
                <button name="create_edari_fee" string="Create Edari Fee" type="object" class="oe_highlight"/>
            </xpath>
            <xpath expr="//field[@name='partner_id']" position="after">
                <field name="no_of_months"/>
                <field name="per_month_gross_salary"/>
                <field name="job_pos" options="{'no_create_edit': True}"/>
                <field name="template" options="{'no_create_edit': True}"/>
                <field name="version"/>
                <field name="invoice_id" readonly="1"/>
            </xpath>
            <xpath expr="//field[@name='payment_term_id']" position="after">
                <field name="interval"/>
                <field name="contract_start_date"/>
                <field name="contract_end_date"/>
                <field name="date_invoice"/>
                <field name="invoice_amount"/>
                <field name="percentage"/>
            </xpath>

            <xpath expr="/form/sheet/notebook/page/field[@name='order_line']/tree/field[@name='name']" position="after">
                <field name="code" attrs="{'readonly':[('costcard_type','=','fixed')]}"/>
                <field name="payment_type" attrs="{'readonly':[('costcard_type','=','fixed')]}"/>
                <field name="costcard_type" invisible="1"/>
                <field name="manual_amount" attrs="{'readonly':[('costcard_type','=','fixed')]}"/>
            </xpath>

            <!-- Making tree fields readonly -->
            <xpath expr="/form/sheet/notebook/page/field[@name='order_line']/tree/field[@name='name']" position="attributes">
                <attribute name="attrs">{'readonly': [('costcard_type','=', 'fixed')]}</attribute>
            </xpath>
            <xpath expr="/form/sheet/notebook/page/field[@name='order_line']/tree/field[@name='product_uom_qty']" position="attributes">
                <attribute name="attrs">{'readonly': [('costcard_type','=', 'fixed')]}</attribute>
            </xpath>
            <xpath expr="/form/sheet/notebook/page/field[@name='order_line']/tree/field[@name='price_unit']" position="attributes">
                <attribute name="attrs">{'readonly': [('costcard_type','=', 'fixed')]}</attribute>
            </xpath>
            <xpath expr="/form/sheet/notebook/page/field[@name='order_line']/tree/field[@name='tax_id']" position="attributes">
                <attribute name="attrs">{'readonly': [('costcard_type','=', 'fixed')]}</attribute>
            </xpath>
            <xpath expr="/form/sheet/notebook/page/field[@name='order_line']/tree/field[@name='product_id']" position="attributes">
                <attribute name="attrs">{'readonly': [('costcard_type','=', 'fixed')]}</attribute>
            </xpath>

        </field> 
    </record>

    <!--********************* [Sale Order Extension Form View-ENDS] *********************-->
    
</data>
</odoo>


                <!-- <xpath expr="//field[@name='origin']" position="attributes">
                    <attribute name="attrs">{'invisible': [('customer','=', True)]}</attribute>
                </xpath> -->